<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ä¼ æ„Ÿå™¨éªŒè¯-å¤§å­—ç‰ˆ</title>
    <style>
        /* é’ˆå¯¹äº‘æœºå¤§å±ä¼˜åŒ–çš„æ ·å¼ */
        body { 
            font-family: 'Courier New', monospace; 
            line-height: 1.6; 
            padding: 20px; 
            background-color: #1a1a1a; 
            color: #eee;
        }
        h3 { color: #fff; border-bottom: 2px solid #444; padding-bottom: 10px; font-size: 24px; }
        
        .data-item { 
            margin: 15px 0; 
            background: #2a2a2a; 
            padding: 15px; 
            border-radius: 8px;
        }
        
        .label { font-size: 18px; color: #aaa; }
        
        /* è¿™é‡Œçš„æ•°å€¼å­—å·åŠ åˆ° 32pxï¼Œç¡®ä¿æ¸…æ™° */
        .val { 
            display: block;
            font-size: 32px; 
            color: #007bff; 
            font-weight: bold; 
            word-break: break-all;
        }
        
        .delta-box { 
            border-top: 4px solid #007bff; 
            background: #222;
            padding: 20px; 
            margin-top: 30px; 
            border-radius: 0 0 10px 10px;
        }

        #status { 
            margin-top: 15px;
            font-size: 20px; 
            padding: 10px;
            text-align: center;
            border-radius: 5px;
            background: #333;
        }

        .highlight { color: #28a745; font-weight: bold; font-size: 22px; }
        
        /* å¢åŠ ä¸€ä¸ªç‚¹å‡»æµ‹è¯•åŒºï¼Œæ–¹ä¾¿æ¿€æ´»æƒé™ */
        #click-area {
            text-align: center;
            padding: 20px;
            background: #007bff;
            color: white;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>

    <div id="click-area">è‹¥æ— æ•°æ®ï¼Œè¯·ç‚¹æ­¤æ¿€æ´»ä¼ æ„Ÿå™¨</div>

    <h3>å®æ—¶æ•°æ® (å·²ä¿®æ­£è·³å˜)</h3>
    
    <div class="data-item">
        <span class="label">Alpha (Zè½´)</span>
        <span id="alpha" class="val">0.000000</span>
    </div>
    
    <div class="data-item">
        <span class="label">Beta (Xè½´)</span>
        <span id="beta" class="val">0.000000</span>
    </div>
    
    <div class="data-item">
        <span class="label">Gamma (Yè½´)</span>
        <span id="gamma" class="val">0.000000</span>
    </div>
    
    <div class="delta-box">
        <span class="label">æœ‰æ•ˆæ³¢åŠ¨ (Clean Delta)</span>
        <span id="delta" class="val" style="color: #ffc107;">0.00000000</span>
        <div id="status">ç­‰å¾…æ•°æ®...</div>
    </div>

    <script>
    let lastValues = { a: 0, b: 0, g: 0 };
let lastTimestamp = 0;

window.addEventListener('deviceorientation', (event) => {
    const { alpha: a, beta: b, gamma: g } = event;
    const now = performance.now();

    // 1. æ›´æ–° UI
    document.getElementById('alpha').innerText = a.toFixed(6);
    document.getElementById('beta').innerText = b.toFixed(6);
    document.getElementById('gamma').innerText = g.toFixed(6);

    // 2. è®¡ç®—ä¸‰è½´ç»¼åˆå˜åŠ¨é‡ (æ¬§å‡ é‡Œå¾—è·ç¦»)
    const delta = Math.sqrt(
        Math.pow(a - lastValues.a, 2) + 
        Math.pow(b - lastValues.b, 2) + 
        Math.pow(g - lastValues.g, 2)
    );

    // 3. è®¡ç®—é¢‘ç‡ (Hz)
    let freq = 0;
    if (lastTimestamp > 0) {
        freq = 1000 / (now - lastTimestamp);
    }

    document.getElementById('delta').innerText = delta.toFixed(8);

    const statusEl = document.getElementById('status');
    // åˆ¤æ–­é€»è¾‘ä¼˜åŒ–ï¼šç»“åˆç»¼åˆå˜åŠ¨é‡
    if (delta > 0.0001) {
        statusEl.innerHTML = `<span class="highlight">ğŸŸ¢ åŠ¨æ€ä¸­ | é¢‘ç‡: ${freq.toFixed(1)}Hz</span>`;
    } else {
        statusEl.innerHTML = `âšª é™æ­¢ä¸­ | é¢‘ç‡: ${freq.toFixed(1)}Hz`;
    }

    // 4. å­˜æ¡£è®°å½•
    lastValues = { a, b, g };
    lastTimestamp = now;
}, true);
    </script>
</body>
</html>

